<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>TrimPath.junctionUtil</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script></head><body class=UnframedPage onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.35 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->

<table border=0 cellspacing=0 cellpadding=0 width=100%><tr><td class=MenuSection valign=top><!--START_ND_MENU--><div class=MEntry><div class=MFile><a href="junction_doc_about-txt.html">About TrimPath Junction</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_run-txt.html">Runtime Environments</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_run_browser-txt.html">Runtime In The Browser</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_run_server-txt.html">Runtime On The Server</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_sync-txt.html">Synchronization</a></div></div><div class=MEntry><div class=MFile><a href="junction-js.html">TrimPath.<span class=HB> </span>junction</a></div></div><div class=MEntry><div class=MFile><a href="junctionClient-js.html">TrimPath.<span class=HB> </span>junctionClient</a></div></div><div class=MEntry><div class=MFile id=MSelected>TrimPath.<span class=HB> </span>junctionUtil</div></div><div class=MEntry><div class=MFile><a href="junction_doc_controller-txt.html">web-MVC Controller</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_model-txt.html">web-MVC Model</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_view-txt.html">web-MVC View</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Index</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MIndex><a href="../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Variables.html">Variables</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Properties.html">Properties</a></div></div></div></div></div><!--END_ND_MENU--></td>

<td class=ContentSection valign=top><div class=CClass id=MainTopic><div class=CTopic><h1 class=CTitle><a name="TrimPath.junctionUtil"></a>TrimPath.<span class=HB> </span>junctionUtil</h1><div class=CBody><p class=CParagraph>Utility functions that can run either client-side or server-side.</p><h4 class=CHeading>Source</h4><p class=CParagraph>trimpath/junctionUtil.js</p><h4 class=CHeading>Release</h4><p class=CParagraph>See trimpath/junction.js</p><h4 class=CHeading>Copyright</h4><p class=CParagraph>copyright &copy; 2005, 2006, 2007 Steve Yen, TrimPath.</p><h4 class=CHeading>License</h4><p class=CParagraph>dual licensed GNU General Public License 2.0 and Apache Public License 2.0</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr><td class=SEntrySize><div class=SMain><div class=SEntry><a href="#TrimPath.junctionUtil" >TrimPath.<span class=HB> </span>junctionUtil</a></div></div></td><td class=SDescriptionSize><div class=SMain><div class=SDescription>Utility functions that can run either client-side or server-side.</div></div></td></tr><tr><td><div class=SGroup><div class=SEntry><div class=SIndent1><a href="#TrimPath.junctionUtil.Functions" >Functions</a></div></div></div></td><td><div class=SGroup><div class=SDescription><div class=SIndent1></div></div></div></td></tr><tr class=SMarked><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.safeEval" >safeEval</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>A safer alternative to normal eval() that protects the caller&rsquo;s scope. </div></div></div></td></tr><tr><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.safeParseInt" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">safeParseInt</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>A wrapper around parseInt() that returns a defaultValue if the input string cannot be parsed. </div></div></div></td></tr><tr class=SMarked><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.safeParseFloat" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">safeParseFloat</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>A wrapper around parseFloat() that returns a defaultValue if the input string cannot be parsed. </div></div></div></td></tr><tr><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.upperFirst" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">upperFirst</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Capitalizes the first character in a string. </div></div></div></td></tr><tr class=SMarked><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.lowerFirst" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">lowerFirst</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Uncapitalizes the first character in a string. </div></div></div></td></tr><tr><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.encodeAngles" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">encodeAngles</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Converts &lt; and &gt; characters to HTML entities (&amp;lt; and &amp;gt;). </div></div></div></td></tr><tr class=SMarked><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.decodeAngles" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">decodeAngles</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Converts HTML entities (&amp;lt; and &amp;gt;) to &lt; and &gt;. </div></div></div></td></tr><tr><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.encodeQuotes" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">encodeQuotes</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Backslashes single quotes (&lsquo; becomes \&rsquo;) and converts double quotes (&ldquo;) to the &amp;quot; HTML entity. </div></div></div></td></tr><tr class=SMarked><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.leftZeroPad" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">leftZeroPad</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Adds leading zero&rsquo;s (0&rsquo;s) as a prefix to a number or string. </div></div></div></td></tr><tr><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.toLocalDateString" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">toLocalDateString</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Formats a Date as either &lsquo;YYYY/MM/DD&rsquo; or &lsquo;YYYY/MM/DD hh:mm:ss&rsquo;. </div></div></div></td></tr><tr class=SMarked><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.toSQLDateString" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">toSQLDateString</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Formats a Date as a database-friendly ISO-8601 &lsquo;YYYY-MM-DD hh:mm:ssZ&rsquo; string, such as &lsquo;2004-10-24 01:02:35Z&rsquo;. </div></div></div></td></tr><tr><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.parseDateString" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">parseDateString</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Parses a string into a Date object, especially useful for handling the ISO-8601 date/time format generated by toSQLDateString().</div></div></div></td></tr><tr class=SMarked><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.getMapKeys" id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">getMapKeys</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Returns all the keys of an object or map.</div></div></div></td></tr><tr><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.setMapTreeValue" id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">setMapTreeValue</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Given a hierarchical map of maps (a tree of map objects), sets a leaf value in the tree given a path that looks like &lsquo;key1[key2][key3]&rsquo;.</div></div></div></td></tr><tr class=SMarked><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.trim" id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">trim</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Removes leading and trailing whitespace from a string.</div></div></div></td></tr><tr><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.exceptionDetails" id=link15 onMouseOver="ShowTip(event, 'tt15', 'link15')" onMouseOut="HideTip('tt15')">exceptionDetails</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Extracts useful debugging information out of an exception Error object. </div></div></div></td></tr><tr class=SMarked><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.toUrlParams" id=link16 onMouseOver="ShowTip(event, 'tt16', 'link16')" onMouseOut="HideTip('tt16')">toUrlParams</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Constructs a HTTP url query string from a map object. </div></div></div></td></tr><tr><td><div class=SFunction><div class=SEntry><div class=SIndent2><a href="#TrimPath.junctionUtil.syncAllowedForTable" id=link17 onMouseOver="ShowTip(event, 'tt17', 'link17')" onMouseOut="HideTip('tt17')">syncAllowedForTable</a></div></div></div></td><td><div class=SFunction><div class=SDescription><div class=SIndent2>Returns whether a database table is a possible candidate for synchronization between client-side and server-side databases. </div></div></div></td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class=CGroup><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.Functions"></a>Functions</h3></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.safeEval"></a>safeEval</h3><div class=CBody><p class=CParagraph>A safer alternative to normal eval() that protects the caller&rsquo;s scope.&nbsp; Calling normal JavaScript eval() allows the evaluated string to access and pollute the scope of the caller.&nbsp; Use safeEval() instead of eval() so that the evaluated string input cannot touch the calling function&rsquo;s scope.</p><h4 class=CHeading>Example</h4><blockquote><pre class=CCode>function() {<br>  var x = 123;<br>  safeEval('x = 256');<br>  // x is still 123 right nere<br>}</pre></blockquote><h4 class=CHeading>Note</h4><p class=CParagraph>To get results back from safeEval(), you sometimes need to wrap the string with parenthesis.&nbsp;  For example...</p><blockquote><pre class=CCode>var val = safeEval('(' + someJsonString + ')');</pre></blockquote><p class=CParagraph>To evaluate the creation of a new function, you may have to assign the function to temporary variable and return the variable value.&nbsp;  This seems required for Internet Explorer, and the technique works for all other browsers, too.&nbsp; For example...</p><blockquote><pre class=CCode>var funcStr = 'var a_temp_name = function() { ' + funcBody + ' }; ' +<br>              'a_temp_name';<br>var func = safeEval(funcStr);</pre></blockquote><h4 class=CHeading><u>TODO</u></h4><p class=CParagraph>Need try out new Function( funcBody ) and see if that works with safeEval().</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>str</td><td class=CDLDescription>The string of JavaScript to be evaluated.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>The same as whatever normal eval() would return.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.safeParseInt"></a>safeParseInt</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>safeParseInt : function(</td><td class=PParameter nowrap>str,</td></tr><tr><td></td><td class=PParameter nowrap>defaultValue</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>A wrapper around parseInt() that returns a defaultValue if the input string cannot be parsed.&nbsp;  Often used to parse user input.</p><h4 class=CHeading>Example</h4><blockquote><pre class=CCode>var maxResults = TrimPath.junctionUtil.safeParseInt(req['maxResults'], 50);</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>str</td><td class=CDLDescription>The string to parse.</td></tr><tr><td class=CDLEntry>defaultValue</td><td class=CDLDescription>Optional.&nbsp; The default value for defaultValue is to 0.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>An integer or defaultValue.&nbsp;  Never returns NaN.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.safeParseFloat"></a>safeParseFloat</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>safeParseFloat : function(</td><td class=PParameter nowrap>str,</td></tr><tr><td></td><td class=PParameter nowrap>defaultValue</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>A wrapper around parseFloat() that returns a defaultValue if the input string cannot be parsed.&nbsp;  Often used to parse user input.</p><h4 class=CHeading>Example</h4><blockquote><pre class=CCode>var price = TrimPath.junctionUtil.safeParseFloat(req['price'], 10.0);</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>str</td><td class=CDLDescription>The string to parse.</td></tr><tr><td class=CDLEntry>defaultValue</td><td class=CDLDescription>Optional.&nbsp; The default value for defaultValue is to 0.0.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A number or defaultValue.&nbsp;  Never returns NaN.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.upperFirst"></a>upperFirst</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>upperFirst : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Capitalizes the first character in a string.&nbsp; Uses String.toUpperCase() on the first character.</p><p class=CParagraph>Using String.toUpperCase() directly, in contrast, performs uppercase conversion on all letters in a string.</p><h4 class=CHeading>Example</h4><blockquote><pre class=CCode>junctionUtil.upperFirst('hello world') ==&gt; 'Hello world'<br>'hello world'.toUpperCase() ==&gt; 'HELLO WORLD'</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>str</td><td class=CDLDescription>The string to capitalize.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string whose first letter is capitalized.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.lowerFirst"></a>lowerFirst</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>lowerFirst : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Uncapitalizes the first character in a string.&nbsp; Uses String.toLowerCase() on the first character.</p><p class=CParagraph>Using String.toLowerCase() directly, in contrast, performs lowercase conversion on all letters in a string.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>str</td><td class=CDLDescription>The string to uncapitalize.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string whose first letter is uncapitalized.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.encodeAngles"></a>encodeAngles</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>encodeAngles : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Converts &lt; and &gt; characters to HTML entities (&amp;lt; and &amp;gt;).&nbsp; The reverse of TrimPath.junctionUtil.decodeAngles().</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>str</td><td class=CDLDescription>A string to convert.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string that safely represents &lt; and &gt; in HTML.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.decodeAngles"></a>decodeAngles</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>decodeAngles : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Converts HTML entities (&amp;lt; and &amp;gt;) to &lt; and &gt;.&nbsp; The reverse of TrimPath.junctionUtil.encodeAngles().</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>str</td><td class=CDLDescription>A string to convert.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string with HTML angle characters replaced by &lt; and &gt;.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.encodeQuotes"></a>encodeQuotes</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>encodeQuotes : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Backslashes single quotes (&lsquo; becomes \&rsquo;) and converts double quotes (&ldquo;) to the &amp;quot; HTML entity.&nbsp; You can use TrimPath.junctionUtil.encodeQuotes() to help dynamically construct inline JavaScript DHTML event handlers.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>str</td><td class=CDLDescription>A string to convert.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A converted string.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.leftZeroPad"></a>leftZeroPad</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>leftZeroPad : function(</td><td class=PParameter nowrap>val,</td></tr><tr><td></td><td class=PParameter nowrap>minLength</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Adds leading zero&rsquo;s (0&rsquo;s) as a prefix to a number or string.&nbsp; This function is most often used to provide prettier formatted output to display to end-users.</p><ul class=CBulletList><li>leftZeroPad(1, 3)    ==&gt; 001</li><li>leftZeroPad(12, 3)   ==&gt; 012</li><li>leftZeroPad(1234, 3) ==&gt; 1234</li></ul><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>val</td><td class=CDLDescription>A number or string to prefix with 0&rsquo;s.</td></tr><tr><td class=CDLEntry>minLength</td><td class=CDLDescription>The minimum left of the resulting string.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string whose length &gt;= minLength.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.toLocalDateString"></a>toLocalDateString</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>toLocalDateString : function(</td><td class=PParameter nowrap>date,</td></tr><tr><td></td><td class=PParameter nowrap>withTime</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Formats a Date as either &lsquo;YYYY/MM/DD&rsquo; or &lsquo;YYYY/MM/DD hh:mm:ss&rsquo;.&nbsp; The Date information is kept in local timezone.&nbsp; The returned string is also parsable by the JavaScript Data object constructor.</p><h4 class=CHeading>Example</h4><blockquote><pre class=CCode>var dateStr = junctionUtil.toLocalDateString(aDateObj);<br>var date = new Date(dateStr);<br>// Note: date.getTime() might not equal aDateObj().getTime()<br>// because of the loss of subsecond/millisecond time information.</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>date</td><td class=CDLDescription>A Date object or a String that&rsquo;s parsed with parseDateString().&nbsp; If null, toLocalDateString() will output the current date/time.</td></tr><tr><td class=CDLEntry>withTime</td><td class=CDLDescription>A boolean, true to add hh:mm:ss to the return value.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string, suitable for display or sorting.&nbsp; Or, the empty string (&ldquo;&rdquo;) if there&rsquo;s a date parsing error.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.toSQLDateString"></a>toSQLDateString</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>toSQLDateString : function(</td><td class=PParameter nowrap>date</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Formats a Date as a database-friendly ISO-8601 &lsquo;YYYY-MM-DD hh:mm:ssZ&rsquo; string, such as &lsquo;2004-10-24 01:02:35Z&rsquo;.&nbsp; This format is amenable to string based sorting and comparison.&nbsp; The Date information is returned in UTC timezone.&nbsp; The UTC conversion is based on the philosophy that all dates stored in the database should be in the same timezone for easy comparability.&nbsp;  In this, we favor UTC (or Z) timezone.</p><h4 class=CHeading>Notes</h4><p class=CParagraph>The output of this function is not directly parsable by using the JavaScript Date object constructor.&nbsp;  For example, the following will not work well...</p><blockquote><pre class=CCode>var aSQLDateString = junctionUtil.toSQLDateString(aDateObject);<br>var date2 = new Date(aSQLDateString);<br>// Unfortunately, date2.getTime() == NaN</pre></blockquote><p class=CParagraph>Instead, use TrimPath.junctionUtil.parseDateString(), which can parse both SQL formatted and local formatted date/time strings.&nbsp;  For example...</p><blockquote><pre class=CCode>var date3 = junctionUtil.parseDateString(aSQLDateString);</pre></blockquote><p class=CParagraph>Note that date3.getTime() might not equal aDateObject.getTime(), due to the loss of subsecond (millisecond) information.</p><p class=CParagraph>The developer may wish to use toLocalDateString() to format the database-friendly date/time string into the user&rsquo;s local timezone for display.&nbsp;  For example...</p><blockquote><pre class=CCode>var aLocalDateString = junctionUtil.toLocalDateString(aSQLDateString);</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>date</td><td class=CDLDescription>A Date object.&nbsp;  If null, the current date/time is used.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string, suitable for display or sorting.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.parseDateString"></a>parseDateString</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>parseDateString : function(</td><td class=PParameter nowrap>s</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Parses a string into a Date object, especially useful for handling the ISO-8601 date/time format generated by toSQLDateString().</p><p class=CParagraph>In contrast, a direct &ldquo;new Date(str)&rdquo; attempt at parsing would fail for a ISO-8601 style of date/time format.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>A string to parse.&nbsp;  If s is null, the function returns null.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A Date object or null if parsing failed.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.getMapKeys"></a>getMapKeys</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getMapKeys : function(</td><td class=PParameter nowrap>map,</td></tr><tr><td></td><td class=PParameter nowrap>optTestProperty</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Returns all the keys of an object or map.</p><h4 class=CHeading>Example</h4><blockquote><pre class=CCode>var someObj = { a: 1, b: 2, c: 3 };<br>var keys = TrimPath.junctionUtil.getMapKeys(someObj);<br>// keys == ['a', 'b', 'c'];</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>map</td><td class=CDLDescription>The object or map.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>An array of strings.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.setMapTreeValue"></a>setMapTreeValue</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>setMapTreeValue : function(</td><td class=PParameter nowrap>mapTree,</td></tr><tr><td></td><td class=PParameter nowrap>path,</td></tr><tr><td></td><td class=PParameter nowrap>value</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Given a hierarchical map of maps (a tree of map objects), sets a leaf value in the tree given a path that looks like &lsquo;key1[key2][key3]&rsquo;.</p><h4 class=CHeading>Example</h4><blockquote><pre class=CCode>var map = { };<br>TrimPath.junctionUtil.setMapTreeValue(map, 'x', 123);<br>// map looks like { x: 123 }<br>TrimPath.junctionUtil.setMapTreeValue(map, 'a[b]', 100);<br>// map looks like { x: 123, a: { b: 100 } }<br>TrimPath.junctionUtil.setMapTreeValue(map, 'a[c]', 200);<br>// map looks like { x: 123, a: { b: 100, c: 200 } }<br>TrimPath.junctionUtil.setMapTreeValue(map, 'q[r][s]', 300);<br>// map looks like<br>//   { x: 123,<br>//     a: { b: 100, c: 200 },<br>//     q: { r: { s: 300 } } }</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>mapTree</td><td class=CDLDescription>The root map in a tree of maps.</td></tr><tr><td class=CDLEntry>path</td><td class=CDLDescription>A string that looks like &ldquo;key[key]*&rdquo;, such as &ldquo;shoppingCart[item_0][productId]&rdquo; or &ldquo;blogPost[title]&rdquo;</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>Any value</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>mapTree</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.trim"></a>trim</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>trim : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Removes leading and trailing whitespace from a string.</p><h4 class=CHeading>Example</h4><blockquote><pre class=CCode>var s = TrimPath.junctionUtil.trim(req['searchFirstName']);</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>str</td><td class=CDLDescription>A string, non-null.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.exceptionDetails"></a>exceptionDetails</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>exceptionDetails : function(</td><td class=PParameter nowrap>e</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Extracts useful debugging information out of an exception Error object.&nbsp; Often used in a the catch block of a try-catch construct, to display useful debugging information to the developer or user.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>e</td><td class=CDLDescription>An Error object.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string containing information about the Error exception.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.toUrlParams"></a>toUrlParams</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>toUrlParams : function(</td><td class=PParameter nowrap>map,</td></tr><tr><td></td><td class=PParameter nowrap>exceptMap</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Constructs a HTTP url query string from a map object.&nbsp; The key/value pairs of a map object are emitted in HTTP url query string k1=v1&amp;k2=v2&amp;k3=v3 format.</p><p class=CParagraph>Only non-function values in the map are emitted.&nbsp; For example, for { x:123, factorial:function() {...}&nbsp; }, the output would be &lsquo;x=123&rsquo;.</p><p class=CParagraph>If a value of a key/value entry is an array, its key is repeated for every entry in the value array.&nbsp; For example { items : [ &lsquo;book&rsquo;, &lsquo;car&rsquo; ] } would become &lsquo;items=book&amp;items=car&rsquo;.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>map</td><td class=CDLDescription>A object treated as a map of key/value pairs.</td></tr><tr><td class=CDLEntry>exceptMap</td><td class=CDLDescription>An optional map of key/boolean pairs.&nbsp; Any keys listed in the exceptMap are not emitted.&nbsp; For example: toUrlParams( { name: &lsquo;Joe&rsquo;, password: &lsquo;foo&rsquo; }, { password : true } ) will return just &lsquo;name=Joe&rsquo;.</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A string usable as a as a url query string for HTTP requests.</p></div></div></div>

<div class=CFunction><div class=CTopic><h3 class=CTitle><a name="TrimPath.junctionUtil.syncAllowedForTable"></a>syncAllowedForTable</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>syncAllowedForTable : function(</td><td class=PParameter nowrap>tableName,</td></tr><tr><td></td><td class=PParameter nowrap>schema</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Returns whether a database table is a possible candidate for synchronization between client-side and server-side databases.&nbsp;  This function does not check the database contents, but just looks at database schema naming conventions.&nbsp;  By convention, tables that have a suffix of &lsquo;Local&rsquo; are not synchronized (like &lsquo;PreferenceLocal&rsquo;).&nbsp; Also the table must also have certain tracking columns that are required by Junction&rsquo;s synchronization protocol.&nbsp; These tracking columns are automatically added to the table if you created the table using the migration createStandrdTable() function.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>tableName</td><td class=CDLDescription>A string table name.&nbsp; For example, &lsquo;Product&rsquo;, &lsquo;Category&rsquo;, or &lsquo;PreferenceLocal&rsquo;.</td></tr><tr><td class=CDLEntry>schema</td><td class=CDLDescription>A db schema hash/map object, such as from calling TrimPath.junction.env.db.getSchema().</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>A boolean true if the table with name of tableName a candidate for synchronization.</p></div></div></div>

</td>

</tr></table><div class=Footer><!--START_ND_FOOTER-->Generated by <a href="http://www.naturaldocs.org">Natural Docs</a><!--END_ND_FOOTER--></div>
<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>safeParseInt : function(</td><td class=PParameter nowrap>str,</td></tr><tr><td></td><td class=PParameter nowrap>defaultValue</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>A wrapper around parseInt() that returns a defaultValue if the input string cannot be parsed. </div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>safeParseFloat : function(</td><td class=PParameter nowrap>str,</td></tr><tr><td></td><td class=PParameter nowrap>defaultValue</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>A wrapper around parseFloat() that returns a defaultValue if the input string cannot be parsed. </div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>upperFirst : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Capitalizes the first character in a string. </div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>lowerFirst : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Uncapitalizes the first character in a string. </div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>encodeAngles : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Converts &lt; and &gt; characters to HTML entities (&amp;lt; and &amp;gt;). </div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>decodeAngles : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Converts HTML entities (&amp;lt; and &amp;gt;) to &lt; and &gt;. </div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>encodeQuotes : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Backslashes single quotes (&lsquo; becomes \&rsquo;) and converts double quotes (&ldquo;) to the &amp;quot; HTML entity. </div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>leftZeroPad : function(</td><td class=PParameter nowrap>val,</td></tr><tr><td></td><td class=PParameter nowrap>minLength</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Adds leading zero&rsquo;s (0&rsquo;s) as a prefix to a number or string. </div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>toLocalDateString : function(</td><td class=PParameter nowrap>date,</td></tr><tr><td></td><td class=PParameter nowrap>withTime</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Formats a Date as either &lsquo;YYYY/MM/DD&rsquo; or &lsquo;YYYY/MM/DD hh:mm:ss&rsquo;. </div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>toSQLDateString : function(</td><td class=PParameter nowrap>date</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Formats a Date as a database-friendly ISO-8601 &lsquo;YYYY-MM-DD hh:mm:ssZ&rsquo; string, such as &lsquo;2004-10-24 01:02:35Z&rsquo;. </div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>parseDateString : function(</td><td class=PParameter nowrap>s</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Parses a string into a Date object, especially useful for handling the ISO-8601 date/time format generated by toSQLDateString().</div></div><div class=CToolTip id="tt12"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getMapKeys : function(</td><td class=PParameter nowrap>map,</td></tr><tr><td></td><td class=PParameter nowrap>optTestProperty</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Returns all the keys of an object or map.</div></div><div class=CToolTip id="tt13"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>setMapTreeValue : function(</td><td class=PParameter nowrap>mapTree,</td></tr><tr><td></td><td class=PParameter nowrap>path,</td></tr><tr><td></td><td class=PParameter nowrap>value</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Given a hierarchical map of maps (a tree of map objects), sets a leaf value in the tree given a path that looks like &lsquo;key1[key2][key3]&rsquo;.</div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>trim : function(</td><td class=PParameter nowrap>str</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Removes leading and trailing whitespace from a string.</div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>exceptionDetails : function(</td><td class=PParameter nowrap>e</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Extracts useful debugging information out of an exception Error object. </div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>toUrlParams : function(</td><td class=PParameter nowrap>map,</td></tr><tr><td></td><td class=PParameter nowrap>exceptMap</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Constructs a HTTP url query string from a map object. </div></div><div class=CToolTip id="tt17"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>syncAllowedForTable : function(</td><td class=PParameter nowrap>tableName,</td></tr><tr><td></td><td class=PParameter nowrap>schema</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Returns whether a database table is a possible candidate for synchronization between client-side and server-side databases. </div></div><!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>