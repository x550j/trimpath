<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>web-MVC View</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script></head><body class=UnframedPage onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.35 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->

<table border=0 cellspacing=0 cellpadding=0 width=100%><tr><td class=MenuSection valign=top><!--START_ND_MENU--><div class=MEntry><div class=MFile><a href="junction_doc_about-txt.html">About TrimPath Junction</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_run-txt.html">Runtime Environments</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_run_browser-txt.html">Runtime In The Browser</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_run_server-txt.html">Runtime On The Server</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_sync-txt.html">Synchronization</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_translation-txt.html">Translations</a></div></div><div class=MEntry><div class=MFile><a href="junction-js.html">TrimPath.<span class=HB> </span>junction</a></div></div><div class=MEntry><div class=MFile><a href="junctionClient-js.html">TrimPath.<span class=HB> </span>junctionClient</a></div></div><div class=MEntry><div class=MFile><a href="junctionUtil-js.html">TrimPath.<span class=HB> </span>junctionUtil</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_controller-txt.html">web-MVC Controller</a></div></div><div class=MEntry><div class=MFile><a href="junction_doc_model-txt.html">web-MVC Model</a></div></div><div class=MEntry><div class=MFile id=MSelected>web-MVC View</div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Index</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MIndex><a href="../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Variables.html">Variables</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Properties.html">Properties</a></div></div></div></div></div><!--END_ND_MENU--></td>

<td class=ContentSection valign=top><div class=CGeneric id=MainTopic><div class=CTopic><h1 class=CTitle><a name="web-MVC_View"></a>web-MVC View</h1><div class=CBody><p class=CParagraph>The View in the web Model-Controller-View (web-MVC) design renders a response HTML page, based on input it receives from a Controller.&nbsp;  The Junction system provides a template rendering system to define Views.&nbsp;  The system allows two different template formats:</p><ul class=CBulletList><li>JavaScript Templates (JST) - a FreeMarker/Velocity inspired template tag markup syntax.</li><li>EcmaScript Templates (EST) - a template tag syntax similar to Ruby ERb (rhtml) or JSP/ASP syntax.</li></ul><p class=CParagraph>For developers already familiar with Ruby ERb/rhtml or JSP/ASP tag syntax, the EST format is the easiest to learn and use.</p><h4 class=CHeading>View Template Files</h4><p class=CParagraph>View templates are stored under code/app/views/[controllerName] directories For example...</p><blockquote><pre class=CCode>code/app/views/<br>           task/<br>             index.est<br>             show.est<br>             edit.est<br>           project/<br>             index.jst<br>             show.jst<br>             edit.jst</pre></blockquote><p class=CParagraph>Above, the View templates for the task Controller are EST files.&nbsp;  And, the View templates for the project Controller are JST files.&nbsp;  Usually, such mixing-and-matching between different template tag markup syntaxes is rare, where application developers instead usually choose just one tag markup syntax and stick with it.</p><h4 class=CHeading>Rendering Templates</h4><p class=CParagraph>View templates are rendered under the control of the Controller, either using the explicit renderXxxx() family of methods, or letting the Junction system choose the template by default that has the same filename base as the actionName.</p><p class=CParagraph>Junction automatically searches for a *.jst and *.est file for the template name, so you do not specify the filename suffix.&nbsp; For example, use &lsquo;task/show&rsquo; instead of &lsquo;task.show.est&rsquo;.</p><h4 class=CHeading>Rendering Context</h4><p class=CParagraph>The response (or res) hash/map object is used as the context scope of View template rendering.&nbsp;  For example, any objects or functions placed into the res hash/map may be referred to directly in the View template.&nbsp;  For example, if Controller code looks like...</p><blockquote><pre class=CCode>TaskController.prototype.show = function(req, res) {<br>   res.task = Task.findActive(req.objId);<br>   res.now  = new Date();<br>}</pre></blockquote><p class=CParagraph>Then, the View template task/show may refer directly to the task and now values.&nbsp;  For example, code/app/views/task/show.est may have...</p><blockquote><pre class=CCode>The Task name: &lt;%= task.name %&gt;.<br>Current time is now: &lt;%= now %&gt;</pre></blockquote><p class=CParagraph>Also, any function or API available on the res object is callable from the View template.&nbsp;  For example...</p><blockquote><pre class=CCode>&lt;%= linkTo('Home', 'home', 'index') %&gt;</pre></blockquote></div></div></div>

</td>

</tr></table><div class=Footer><!--START_ND_FOOTER-->Generated by <a href="http://www.naturaldocs.org">Natural Docs</a><!--END_ND_FOOTER--></div>
<!--START_ND_TOOLTIPS-->
<!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>